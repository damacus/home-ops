{"id":"home-ops-01a","title":"OAuth2 proxy for application protection","description":"Verify oauth2-proxy deployment, check OIDC provider configuration, validate cookie settings, test authentication redirect flow, confirm session persistence.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:52.808362Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:47:52.808362Z","labels":["auth","kubernetes"],"dependencies":[{"issue_id":"home-ops-01a","depends_on_id":"home-ops-emi","type":"blocks","created_at":"2026-01-17T20:50:16.735816Z","created_by":"Dan Webb"}]}
{"id":"home-ops-0ci","title":"Spegel for peer-to-peer image distribution","description":"Verify Spegel pods on all nodes, check registry mirror configuration, validate image pull through Spegel, test bandwidth savings, monitor cache hit rates.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:20.952714Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:20.952714Z","labels":["kubernetes","networking"]}
{"id":"home-ops-0iy","title":"Migrate frigate-media PVC to nfs-csi-ssd","description":"Migrate frigate-media PVC from nfs-csi-unas to nfs-csi-ssd. This PVC stores video recordings and media (100Gi, ReadWriteOnce).","acceptance_criteria":"- New PVC created with nfs-csi-ssd storage class\n- Media data migrated from nfs-csi-unas with integrity verification\n- Frigate application restarted and functioning normally\n- Old PVC can be safely deleted","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:28:38.905417Z","updated_at":"2026-01-29T14:28:38.905417Z","dependencies":[{"issue_id":"home-ops-0iy","depends_on_id":"home-ops-h70","type":"blocks","created_at":"2026-01-29T14:28:38.906971Z","created_by":"daemon"}]}
{"id":"home-ops-0qg","title":"Test and verify complete OIDC security flow","description":"End-to-end testing of the complete security configuration.\n\n## Test Scenarios\n\n### Admin User Flow\n1. Log in as admin via Google OAuth\n2. Verify groups claim contains `[\"admin\", \"user\"]`\n3. Verify Mealie admin privileges\n4. Verify Zitadel console access\n\n### Regular User Flow\n1. Log in as approved non-admin user\n2. Verify groups claim contains `[\"user\"]` only\n3. Verify limited Mealie access\n4. Verify cannot access Zitadel admin functions\n\n### Unapproved User Flow\n1. Attempt login as unapproved user\n2. Verify login is blocked or limited\n3. Verify appropriate error message\n\n### Security Tests\n1. Test rate limiting (many rapid requests)\n2. Verify MFA prompts for admin actions\n3. Check session timeout behavior\n4. Verify audit logs capture events\n\n## Acceptance Criteria\n- [ ] All user flows work as expected\n- [ ] Security controls are effective\n- [ ] No bypass vulnerabilities found\n- [ ] Audit trail is complete","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T23:15:38.242223Z","updated_at":"2026-01-20T23:15:38.242223Z","labels":["oidc","security","testing"],"dependencies":[{"issue_id":"home-ops-0qg","depends_on_id":"home-ops-xd1","type":"blocks","created_at":"2026-01-20T23:15:38.245923Z","created_by":"daemon"},{"issue_id":"home-ops-0qg","depends_on_id":"home-ops-e6d","type":"blocks","created_at":"2026-01-20T23:15:38.247105Z","created_by":"daemon"}]}
{"id":"home-ops-0wl","title":"Kubeconform manifest validation","description":"Run kubeconform on all manifests, check for schema validation errors, validate CRD schemas are available, fix any validation failures, integrate into CI pipeline.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:39.761316Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:39.761316Z","labels":["kubernetes","validation"]}
{"id":"home-ops-0yr","title":"Trivy vulnerability scanning","description":"Deploy Trivy operator, configure scanning schedule, validate image scanning on deployment, check VulnerabilityReport resources, set up alerts for critical vulnerabilities, test scanning, validate SBOM generation, monitor metrics, integrate with CI.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:14.550133Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:14.550133Z","labels":["scanning","security"]}
{"id":"home-ops-0zi","title":"Kured for node reboots","description":"Verify Kured pods on all nodes, check reboot schedule configuration, validate Slack/Discord notifications, test manual reboot trigger, confirm PDB respect.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:23.989789Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:23.989789Z","labels":["kubernetes","system"]}
{"id":"home-ops-167","title":"CIS Kubernetes benchmark compliance","description":"Run kube-bench against cluster, review control plane findings, validate worker node compliance, check etcd security, document remediation actions, create compliance dashboard, schedule regular scans, track compliance over time.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:20.941916Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:20.941916Z","labels":["compliance","security"]}
{"id":"home-ops-2pf","title":"Re-implement Home Assistant volsync backup with correct storage class","description":"The cache PVC should use nfs-csi-ssd instead of openebs-hostpath to avoid volume binding conflicts. The original configuration was stuck for 11 days due to scheduling issues between the NFS source PVC and the openebs-hostpath cache PVC.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:15:08.595392Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:15:08.595392Z","dependencies":[{"issue_id":"home-ops-2pf","depends_on_id":"home-ops-9b9","type":"blocks","created_at":"2026-01-17T20:50:30.442483Z","created_by":"Dan Webb"}]}
{"id":"home-ops-2z7","title":"Test end-to-end incident workflow","description":"Perform comprehensive testing of the entire incident response workflow from alert to resolution.","design":"Test scenario:\\n1. Fire test alert: up{job=\\\"test\\\"} == 0\\n2. Verify Alertmanager routes to On-Call\\n3. Verify incident created in On-Call\\n4. Verify notifications sent\\n5. Acknowledge incident\\n6. Resolve incident\\n7. Verify all notifications and logs","acceptance_criteria":"- Test alert fired from Prometheus\n- Alert routed to Alertmanager\n- Alertmanager sent to On-Call webhook\n- On-Call created incident\n- Notification sent to primary on-call (email + Slack)\n- Incident acknowledged in On-Call UI\n- Incident manually resolved\n- Resolution notification sent\n- All steps verified with logs and screenshots\n- Test documented in runbook","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T14:33:36.686956Z","updated_at":"2026-01-29T14:33:36.686956Z","labels":["monitoring","testing"],"dependencies":[{"issue_id":"home-ops-2z7","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:36.689069Z","created_by":"daemon"}]}
{"id":"home-ops-305","title":"EMQX MQTT broker deployment","description":"Verify EMQX HelmRelease, check cluster formation, validate MQTT listener config, test client connectivity, confirm authentication, check ACL rules, validate TLS, test WebSocket, monitor metrics, verify persistent sessions.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:52.458304Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:32.704533Z","closed_at":"2026-01-17T20:54:32.704533Z","close_reason":"Mosquitto MQTT broker running in home-automation namespace","labels":["home-automation","mqtt"]}
{"id":"home-ops-34f","title":"Home Assistant Core deployment","description":"Verify HelmRelease deployed, check persistent volume mounted, validate Gateway HTTPRoute, confirm UI accessible, test login flow, verify integrations page, check automation engine, validate recorder DB, test restart, confirm backup config, monitor logs.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:50.44891Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:42.768463Z","closed_at":"2026-01-17T20:54:42.768463Z","close_reason":"Home Assistant running in home-automation namespace","labels":["home-automation"],"dependencies":[{"issue_id":"home-ops-34f","depends_on_id":"home-ops-305","type":"blocks","created_at":"2026-01-17T20:50:29.496611Z","created_by":"Dan Webb"}]}
{"id":"home-ops-35s","title":"Set up incident templates and runbooks","description":"Create incident response templates and link runbooks for common alert types.","design":"Templates:\\n1. Pod CrashLoop: Check logs, restart pod, check resource limits\\n2. High Memory: Check top processes, scale pod, check memory leaks\\n3. High CPU: Check top processes, scale pod, optimize queries\\n4. Disk Full: Check disk usage, clean logs, expand storage\\n5. Service Down: Check pod status, check logs, check dependencies","acceptance_criteria":"- At least 5 incident templates created\n- Templates cover: Pod CrashLoop, High Memory, High CPU, Disk Full, Service Down\n- Each template includes: description, severity, runbook link\n- Runbooks stored in docs/ directory with clear steps\n- Templates automatically applied based on alert labels\n- Team can view and edit templates in On-Call UI\n- Runbook links are clickable and accessible","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:33:27.574847Z","updated_at":"2026-01-29T14:33:27.574847Z","labels":["documentation","monitoring"],"dependencies":[{"issue_id":"home-ops-35s","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:27.577629Z","created_by":"daemon"}]}
{"id":"home-ops-3ix","title":"HelmRelease management and updates","description":"List all HelmReleases, check for failed/pending releases, verify HelmRepository sources, test manual upgrade, validate rollback functionality.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:40.732839Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:30.445825Z","closed_at":"2026-01-17T20:54:30.445825Z","close_reason":"Flux controllers running, HelmReleases reconciling","labels":["flux","kubernetes"]}
{"id":"home-ops-3xl","title":"Network policies for pod isolation","description":"Verify default deny policies, check namespace isolation rules, validate ingress policies, test egress restrictions, confirm policy enforcement.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:18.939224Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:18.939224Z","labels":["kubernetes","networking"]}
{"id":"home-ops-4h4","title":"Zitadel TUI: Main Menu and UI","description":"Create beautiful main menu with tty-box header, colorful options, and navigation between all features","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T21:21:25.521487Z","updated_at":"2026-01-22T10:28:41.153161Z","closed_at":"2026-01-22T10:28:41.153161Z","close_reason":"Main menu and UI implemented with tty-box header, colorful menus, and navigation","labels":["ruby","zitadel-tui"],"dependencies":[{"issue_id":"home-ops-4h4","depends_on_id":"home-ops-96m","type":"blocks","created_at":"2026-01-21T21:21:25.523516Z","created_by":"daemon"}]}
{"id":"home-ops-4kl","title":"Cloud-init template for k3s nodes","description":"Verify cloud-init template, check SSH keys, validate network config for static IP, confirm hostname templating, test timezone/locale (en_GB), verify package installation, check k3s script, validate disk partitioning, test on fresh VM, confirm runcmd execution.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:29.819502Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:29.819502Z","labels":["cloud-init","provisioning"]}
{"id":"home-ops-4n1","title":"Verify and document nfs-csi-unas storage class removal","description":"After all PVCs have been migrated from nfs-csi-unas to nfs-csi-ssd, verify no remaining references and safely remove the nfs-csi-unas storage class.","acceptance_criteria":"- All PVCs migrated and verified\n- No remaining nfs-csi-unas references in cluster\n- Storage class removed from codebase\n- Documentation updated with migration completion notes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:28:41.32947Z","updated_at":"2026-01-29T14:28:41.32947Z","dependencies":[{"issue_id":"home-ops-4n1","depends_on_id":"home-ops-h70","type":"blocks","created_at":"2026-01-29T14:28:41.333042Z","created_by":"daemon"}]}
{"id":"home-ops-53m","title":"Voice assistant pipeline (Whisper/Piper)","description":"Deploy Whisper STT, verify model download, validate Wyoming protocol, test HA integration, deploy Piper TTS, check voice models, configure voice assistant in HA, set up wake word detection, test voice control, monitor latency.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:58.584102Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:34.71173Z","closed_at":"2026-01-17T20:54:34.71173Z","close_reason":"Wyoming Piper and Whisper running in home-automation namespace","labels":["home-automation","voice"]}
{"id":"home-ops-5aj","title":"Frigate NVR deployment","description":"Verify HelmRelease deployed, check GPU passthrough for detection, validate camera stream connectivity, confirm MQTT integration, test object detection, verify recording config, check snapshot generation, validate HA integration, test notifications.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:56.194532Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:33.719399Z","closed_at":"2026-01-17T20:54:33.719399Z","close_reason":"Frigate NVR running in home-automation namespace","labels":["frigate","home-automation"],"dependencies":[{"issue_id":"home-ops-5aj","depends_on_id":"home-ops-305","type":"blocks","created_at":"2026-01-17T20:50:18.453947Z","created_by":"Dan Webb"}]}
{"id":"home-ops-5c0","title":"Setup VolSync for frigate-media PVC","description":"Create and configure VolSync backup for frigate-media PVC (100Gi) to ensure video recordings are backed up before migration.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T21:12:52.970081Z","updated_at":"2026-01-23T21:12:52.970081Z","dependencies":[{"issue_id":"home-ops-5c0","depends_on_id":"home-ops-w1k","type":"blocks","created_at":"2026-01-23T21:12:52.972189Z","created_by":"daemon"}]}
{"id":"home-ops-5cb","title":"ESPHome dashboard deployment","description":"Verify HelmRelease deployed, check persistent storage, validate Gateway HTTPRoute, confirm dashboard UI accessible, test device compilation, verify OTA update, check secrets management, validate HA API integration.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:50:00.423061Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:35.613409Z","closed_at":"2026-01-17T20:54:35.613409Z","close_reason":"ESPHome running in home-automation namespace","labels":["esphome","home-automation"]}
{"id":"home-ops-68a","title":"Epic: Security \u0026 Compliance","description":"Parent epic for security tasks including secrets management, authentication, RBAC, network policies, scanning, and compliance.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:46:58.806736Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:46:58.806736Z","labels":["epic"]}
{"id":"home-ops-6bp","title":"Pre-commit hooks for code quality","description":"Verify pre-commit is configured, check YAML linting rules, validate Kubernetes manifest checks, test commit hook execution, confirm CI integration.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:43.269515Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:43.269515Z","labels":["kubernetes","validation"]}
{"id":"home-ops-6bw","title":"InSpec compliance profile for nodes","description":"Verify InSpec profile exists, check control definitions, validate SSH transport, test against running node, confirm all controls pass, check security baseline, validate kernel hardening, test network security, verify user account controls, generate compliance report.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:36.60994Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:36.60994Z","labels":["inspec","provisioning"],"dependencies":[{"issue_id":"home-ops-6bw","depends_on_id":"home-ops-7bc","type":"blocks","created_at":"2026-01-17T20:50:21.310819Z","created_by":"Dan Webb"}]}
{"id":"home-ops-6eb","title":"Deprecate nfs-csi-unas and smb storage classes","description":"Document nfs-csi-unas and smb storage classes as deprecated and consider adding annotations to discourage future use.","status":"open","priority":4,"issue_type":"chore","created_at":"2026-01-23T21:13:00.954194Z","updated_at":"2026-01-23T21:13:00.954194Z","dependencies":[{"issue_id":"home-ops-6eb","depends_on_id":"home-ops-boe","type":"blocks","created_at":"2026-01-23T21:13:00.955816Z","created_by":"daemon"}]}
{"id":"home-ops-6nw","title":"Create Zitadel Action to inject custom group claims","description":"Since Google OAuth doesn't provide group claims, use Zitadel Actions to inject custom groups into tokens.\n\n## Zitadel Actions Overview\nActions are JavaScript functions that run at specific points in the authentication flow. They can modify tokens and add custom claims.\n\n## Implementation Steps\n1. Create a Zitadel Action script that:\n   - Checks the user's email or metadata\n   - Assigns groups based on a mapping (e.g., admin emails → \"admin\" group)\n   - Injects the `groups` claim into the token\n\n2. Example Action script:\n```javascript\nfunction setCustomClaims(ctx, api) {\n  // Define admin users\n  const adminEmails = [\n    'dan.m.webb@gmail.com',\n    // Add other admin emails\n  ];\n  \n  const groups = [];\n  \n  if (adminEmails.includes(ctx.v1.user.email)) {\n    groups.push('admin');\n  }\n  groups.push('user'); // Everyone gets 'user' group\n  \n  api.v1.claims.setClaim('groups', groups);\n}\n```\n\n3. Attach Action to \"Pre Userinfo creation\" or \"Complement Token\" flow\n\n## Acceptance Criteria\n- [ ] Action created in Zitadel\n- [ ] Groups claim appears in OIDC tokens\n- [ ] Admin users get \"admin\" group\n- [ ] Regular users get \"user\" group only","notes":"Starting implementation. Will create Zitadel Action to inject groups claim based on approved users list.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:13:07.047707Z","updated_at":"2026-01-21T11:28:02.284858Z","closed_at":"2026-01-21T11:28:02.284858Z","close_reason":"Completed: Zitadel Action created at kubernetes/apps/authentication/zitadel/actions/set-groups-claim.js - injects 'admin' or 'user' group based on email allowlist","labels":["oidc","security","zitadel"],"dependencies":[{"issue_id":"home-ops-6nw","depends_on_id":"home-ops-yyj","type":"blocks","created_at":"2026-01-20T23:13:07.053619Z","created_by":"daemon"}]}
{"id":"home-ops-73e","title":"Create on-call schedules and rotation policies","description":"Set up on-call schedules defining who is on-call when, including rotation patterns and time zones.","design":"Single-person schedule:\\n- Primary: You (continuous)\\n- Timezone: Europe/London\\n- Handoff: Weekly Monday 09:00 UTC for review\\n- Backup: Document escalation to manager/team if unavailable\\n- Note: No rotation needed with single person; focus on reliability and backup procedures","acceptance_criteria":"- Single-user schedule created (you as sole on-call)\n- Schedule timezone set to Europe/London\n- Rotation pattern: continuous coverage (no gaps)\n- Handoff time: 09:00 UTC (Monday mornings for weekly review)\n- Schedule visible in On-Call web UI\n- Calendar export available (iCal format)\n- Coverage verified for 90 days (no gaps)\n- Escalation path defined for your unavailability (backup contact documented)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:33:22.285764Z","updated_at":"2026-01-29T15:01:11.185681Z","labels":["monitoring"],"dependencies":[{"issue_id":"home-ops-73e","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:22.287794Z","created_by":"daemon"}]}
{"id":"home-ops-7bc","title":"First control plane node bootstrap","description":"Verify cloud-init completes, check k3s server starts, validate kubeconfig generated, test kubectl access, confirm cluster initialized, verify etcd running, check API server responding, validate node Ready, test pod scheduling, confirm CNI functioning.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:41.504479Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:41.504479Z","labels":["bootstrap","provisioning"],"dependencies":[{"issue_id":"home-ops-7bc","depends_on_id":"home-ops-g84","type":"blocks","created_at":"2026-01-17T20:50:20.401793Z","created_by":"Dan Webb"}]}
{"id":"home-ops-7n6","title":"Zitadel TUI: Dockerize Application","description":"Create Dockerfile and docker-compose.yaml for containerized deployment with kubectl access","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T21:21:27.085694Z","updated_at":"2026-01-22T10:28:42.022416Z","closed_at":"2026-01-22T10:28:42.022416Z","close_reason":"Dockerfile and docker-compose.yaml created with multi-arch kubectl support","labels":["docker","ruby","zitadel-tui"],"dependencies":[{"issue_id":"home-ops-7n6","depends_on_id":"home-ops-96m","type":"blocks","created_at":"2026-01-21T21:21:27.087628Z","created_by":"daemon"}]}
{"id":"home-ops-8nm","title":"Epic: Storage Infrastructure","description":"Parent epic for all storage-related tasks including Volsync backup validation and MinIO to RustFS migration.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:46:56.365946Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:46:56.365946Z","labels":["epic"]}
{"id":"home-ops-8qb","title":"Evaluate and integrate RustFS as alternative object storage","description":"Research, evaluate, and plan integration of RustFS as an alternative to MinIO for object storage. Assess compatibility with existing workloads (Loki, Volsync, backups) and create migration strategy.","acceptance_criteria":"- RustFS architecture and capabilities documented\n- Compatibility assessment for Loki, Volsync, and backup systems completed\n- Migration strategy and rollback plan documented\n- Rsync/Volsync replication configured between MinIO and RustFS for a small test bucket\n- Proof-of-concept replication validated and data integrity verified\n- Replication can be safely reversed if needed","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:25:33.086761Z","updated_at":"2026-01-29T14:28:23.81728Z","dependencies":[{"issue_id":"home-ops-8qb","depends_on_id":"home-ops-8nm","type":"blocks","created_at":"2026-01-29T14:25:33.088151Z","created_by":"daemon"}]}
{"id":"home-ops-8yu","title":"Victoria Metrics stack deployment","description":"Verify HelmRelease, check VMSingle pod, validate VMAgent scraping, confirm VMAlert, verify Alertmanager, test ServiceMonitor/PodMonitor discovery, check kube-state-metrics, validate node-exporter, confirm persistent storage, review TooHighSlowInsertsRate/CPUThrottlingHigh/ScrapePoolHasNoTargets alerts.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:44.123433Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:52:40.975387Z","closed_at":"2026-01-17T20:52:40.975387Z","close_reason":"Victoria Metrics stack is deployed and healthy","labels":["kubernetes","monitoring"]}
{"id":"home-ops-96m","title":"Zitadel TUI: Project Setup","description":"Initialize Ruby project structure with Gemfile, standard directory layout, and RuboCop configuration","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-21T21:21:15.131606Z","updated_at":"2026-01-22T10:28:35.85055Z","closed_at":"2026-01-22T10:28:35.85055Z","close_reason":"Project structure created with Gemfile, RuboCop config, and standard Ruby layout","labels":["ruby","zitadel-tui"]}
{"id":"home-ops-9b9","title":"Volsync backup and restore validation","description":"Verify Volsync controller, check ReplicationSource resources, validate backup schedule, test manual backup, verify backups in MinIO/S3, test restore, check retention policy, validate encryption, monitor metrics in Grafana, run InSpec tests.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:19.189085Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:44.39856Z","closed_at":"2026-01-17T20:54:44.39856Z","close_reason":"Volsync controller running, paperless-local-backup replicationsource working with successful syncs","labels":["storage"]}
{"id":"home-ops-9m7","title":"Migrate whisper-models PVC to nfs-csi-ssd","description":"Migrate whisper-models PVC from nfs-csi-unas to nfs-csi-ssd. This PVC stores ML models for the Whisper application (20Gi, ReadWriteOnce).","acceptance_criteria":"- New PVC created with nfs-csi-ssd storage class\n- Data migrated from nfs-csi-unas with integrity verification\n- Whisper application restarted and functioning normally\n- Old PVC can be safely deleted","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:28:37.802301Z","updated_at":"2026-01-29T14:28:37.802301Z","dependencies":[{"issue_id":"home-ops-9m7","depends_on_id":"home-ops-h70","type":"blocks","created_at":"2026-01-29T14:28:37.803651Z","created_by":"daemon"}]}
{"id":"home-ops-a8b","title":"Intel Device Plugins for hardware acceleration","description":"Verify device plugin pods, check GPU resource availability, validate QAT if configured, test workload scheduling to GPU nodes, confirm resource limits.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:17.321077Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:17.321077Z","labels":["kubernetes","scheduling"]}
{"id":"home-ops-b8q","title":"Zigbee2MQTT deployment","description":"Verify HelmRelease deployed, check USB coordinator passthrough, validate MQTT connectivity, confirm web UI accessible, test device pairing, verify existing devices online, check coordinator firmware, validate network map, monitor Zigbee health.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:54.325357Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:54.325357Z","labels":["home-automation","zigbee"],"dependencies":[{"issue_id":"home-ops-b8q","depends_on_id":"home-ops-305","type":"blocks","created_at":"2026-01-17T20:50:17.558083Z","created_by":"Dan Webb"}]}
{"id":"home-ops-boe","title":"Verify all migrations and cleanup old storage","description":"Verify all PVCs are successfully migrated to SSD storage, monitor for issues, and clean up old data from spinning disks after validation period.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-23T21:12:57.598008Z","updated_at":"2026-01-23T21:12:57.598008Z","dependencies":[{"issue_id":"home-ops-boe","depends_on_id":"home-ops-iwr","type":"blocks","created_at":"2026-01-23T21:12:57.598904Z","created_by":"daemon"},{"issue_id":"home-ops-boe","depends_on_id":"home-ops-ird","type":"blocks","created_at":"2026-01-23T21:12:57.599939Z","created_by":"daemon"},{"issue_id":"home-ops-boe","depends_on_id":"home-ops-el8","type":"blocks","created_at":"2026-01-23T21:12:57.6008Z","created_by":"daemon"}]}
{"id":"home-ops-c18","title":"Add cluster monitoring through GATUS","description":"Implement cluster uptime monitoring using GATUS to monitor the health and availability of the entire Kubernetes cluster.\n\nMonitoring endpoints:\n- External: external.damacus.io (Echo Server)\n- Internal: echo-server.ironstone.casa (Echo Server)\n\nThis will provide visibility into cluster health and uptime metrics.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-29T14:21:27.784179Z","updated_at":"2026-01-29T14:28:00.45489Z","closed_at":"2026-01-29T14:28:00.45489Z","close_reason":"Implemented GATUS cluster monitoring - PR #2913 created and set to auto-merge","labels":["cluster","monitoring","observability"]}
{"id":"home-ops-c3l","title":"Velero cluster backup solution","description":"Verify Velero pods, check backup storage location, validate backup schedule, test manual backup, verify restore functionality, check volume snapshot integration, validate encryption, test disaster recovery, monitor metrics, confirm retention policies.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:45.541185Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:45.541185Z","labels":["backup","kubernetes"]}
{"id":"home-ops-c9u","title":"Kubernetes RBAC and service account management","description":"Define ClusterRoles, create RoleBindings, validate admin/developer access, confirm read-only monitoring access, check service account permissions, validate RBAC for Flux, test namespace isolation, audit existing policies.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:16.96868Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:16.96868Z","labels":["rbac","security"]}
{"id":"home-ops-c9x","title":"Harden Zitadel for public internet exposure","description":"Security hardening for Zitadel when exposed to the internet.\n\n## Security Checklist\n\n### Authentication Hardening\n- [ ] Enable MFA requirement for admin users\n- [ ] Configure session timeout policies\n- [ ] Enable brute-force protection (lockout after failed attempts)\n- [ ] Configure password policies (if using local accounts)\n\n### Network Security\n- [ ] Ensure TLS is properly configured (cert-manager)\n- [ ] Configure rate limiting via Cilium Gateway\n- [ ] Set up proper CORS policies\n- [ ] Consider geo-blocking if needed\n\n### Audit \u0026 Monitoring\n- [ ] Enable audit logging\n- [ ] Set up alerts for suspicious activity\n- [ ] Monitor login failures\n\n### Zitadel-Specific\n- [ ] Review and restrict API permissions\n- [ ] Disable unused features\n- [ ] Review OAuth/OIDC settings for each application\n- [ ] Ensure secrets are rotated periodically\n\n## Implementation\nMost settings are in Zitadel Console → Settings → Security\n\n## Acceptance Criteria\n- [ ] MFA enabled for admins\n- [ ] Rate limiting configured\n- [ ] Audit logging enabled\n- [ ] All TLS certificates valid","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:13:57.415989Z","updated_at":"2026-01-21T11:27:49.741366Z","closed_at":"2026-01-21T11:27:49.741366Z","close_reason":"Completed: MFA enabled and working, password complexity configured (12 chars, uppercase/lowercase/number/symbol), SMTP configured for OTP emails, second factors (TOTP + Email OTP) available. Rate limiting deferred.","labels":["hardening","security","zitadel"],"dependencies":[{"issue_id":"home-ops-c9x","depends_on_id":"home-ops-myi","type":"blocks","created_at":"2026-01-20T23:13:57.419036Z","created_by":"daemon"}]}
{"id":"home-ops-cdr","title":"k8s_gateway for split-horizon DNS","description":"Verify k8s_gateway deployment, check Gateway API integration, validate internal DNS responses, test external client resolution, confirm zone delegation.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:47.563312Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:47:47.563312Z","labels":["dns","kubernetes"]}
{"id":"home-ops-cil","title":"Grafana On-Call: Core Setup \u0026 Configuration","description":"Implement Grafana On-Call as the primary on-call scheduling and incident management system for the home-ops cluster. This epic encompasses deployment, integration with Alertmanager, user management, and escalation policies.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-29T14:33:07.582137Z","updated_at":"2026-01-29T14:33:07.582137Z","labels":["alerting","kubernetes","monitoring"]}
{"id":"home-ops-e6d","title":"Configure Cilium Gateway rate limiting for Zitadel and Mealie","description":"Add rate limiting to protect Zitadel and Mealie from abuse when exposed to the internet.\n\n## Cilium Gateway API Rate Limiting\nUse HTTPRoute filters or BackendLBPolicy for rate limiting.\n\n## Recommended Limits\n- **Zitadel login endpoint**: 10 requests/minute per IP\n- **Zitadel API**: 100 requests/minute per IP\n- **Mealie API**: 60 requests/minute per IP\n\n## Implementation\nCreate BackendLBPolicy or use HTTPRoute rate limit filter:\n\n```yaml\napiVersion: cilium.io/v2\nkind: CiliumEnvoyConfig\nmetadata:\n  name: rate-limit-zitadel\nspec:\n  # Rate limiting configuration\n```\n\nOr use external rate limiting with Cilium L7 policies.\n\n## Acceptance Criteria\n- [ ] Rate limiting applied to Zitadel\n- [ ] Rate limiting applied to Mealie\n- [ ] Legitimate users not affected\n- [ ] Abuse attempts are blocked","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T23:15:29.477521Z","updated_at":"2026-01-20T23:15:29.477521Z","labels":["cilium","gateway-api","security"],"dependencies":[{"issue_id":"home-ops-e6d","depends_on_id":"home-ops-c9x","type":"blocks","created_at":"2026-01-20T23:15:29.480226Z","created_by":"daemon"}]}
{"id":"home-ops-el8","title":"Migrate frigate-media to SSD (high risk)","description":"Migrate frigate-media PVC from nfs-csi-unas to nfs-csi-ssd using verified VolSync backup. High risk - contains video recordings.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-23T21:12:56.627459Z","updated_at":"2026-01-23T21:12:56.627459Z","dependencies":[{"issue_id":"home-ops-el8","depends_on_id":"home-ops-5c0","type":"blocks","created_at":"2026-01-23T21:12:56.628649Z","created_by":"daemon"}]}
{"id":"home-ops-emi","title":"Zitadel identity provider deployment","description":"Deploy Zitadel with CNPG PostgreSQL, verify pods, check DB connectivity, confirm UI via Gateway, configure admin user, set up family accounts, enable passkey/WebAuthn, configure Google OAuth, set up LDAP, create OIDC apps for Mealie/Paperless/Grafana, test SSO, configure backup.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:51.082166Z","created_by":"Dan Webb","updated_at":"2026-01-20T12:07:59.764393Z","closed_at":"2026-01-20T12:07:59.764393Z","close_reason":"Zitadel OIDC integration completed for Mealie. Configuration verified: OIDC_CONFIGURATION_URL=https://zitadel.ironstone.casa/.well-known/openid-configuration, OIDC_CLIENT_ID=355240244964035631, OIDC_PROVIDER_NAME=Zitadel. HelmRelease upgraded to app-template 4.6.2 and pod restarted with correct configuration.","labels":["auth","kubernetes"]}
{"id":"home-ops-era","title":"Create monitoring and alerting for On-Call itself","description":"Set up monitoring to ensure On-Call service is healthy and alerts are being delivered.","design":"Monitoring:\\n- Prometheus: Scrape /metrics endpoint\\n- Alerts: Pod down (critical), Memory \u003e 80% (warning), CPU \u003e 80% (warning)\\n- Dashboard: On-Call Health (uptime, incident rate, notification success)\\n- SLA: 99.9% availability","acceptance_criteria":"- Prometheus scrape config added for On-Call metrics\n- Alert rules created: Pod down, High memory, High CPU, Database connection failed\n- Alert rules tested with synthetic alerts\n- Grafana dashboard created for On-Call health\n- SLA monitoring: 99.9% uptime target\n- Metrics include: incident count, notification delivery rate, API response time\n- Dashboard shows: Pod status, Database health, Recent incidents","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:33:34.289816Z","updated_at":"2026-01-29T14:33:34.289816Z","labels":["monitoring"],"dependencies":[{"issue_id":"home-ops-era","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:34.292507Z","created_by":"daemon"}]}
{"id":"home-ops-ere","title":"Zitadel TUI: IDP Configuration","description":"Implement interactive IDP (Google OAuth) configuration with tty-prompt","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T21:21:23.728274Z","updated_at":"2026-01-22T10:28:40.062082Z","closed_at":"2026-01-22T10:28:40.062082Z","close_reason":"IDP configuration implemented with Google OAuth setup from K8s secrets or manual input","labels":["ruby","zitadel-tui"],"dependencies":[{"issue_id":"home-ops-ere","depends_on_id":"home-ops-96m","type":"blocks","created_at":"2026-01-21T21:21:23.72995Z","created_by":"daemon"}]}
{"id":"home-ops-ez4","title":"Migrate object storage from MinIO to RustFS","description":"Audit current MinIO buckets, deploy RustFS, verify S3 compatibility, create sync jobs, update application secrets, validate connectivity, verify data integrity, decommission MinIO, run InSpec tests.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:21.196546Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:47:21.196546Z","labels":["migration","storage"],"dependencies":[{"issue_id":"home-ops-ez4","depends_on_id":"home-ops-9b9","type":"blocks","created_at":"2026-01-17T20:47:34.784094Z","created_by":"Dan Webb"}]}
{"id":"home-ops-g0s","title":"Epic: Home Automation","description":"Parent epic for home automation tasks including Home Assistant, MQTT, Zigbee, Z-Wave, voice assistants, Frigate, and integrations.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:01.523437Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:47:01.523437Z","labels":["epic"]}
{"id":"home-ops-g84","title":"Ansible inventory and k3s playbooks","description":"Verify inventory structure, check host groups, validate host/group variables, test SSH connectivity, check ansible.cfg, validate vault password, test ping, confirm privilege escalation, verify k3s installation playbook, test idempotency.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:31.990274Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:31.990274Z","labels":["ansible","provisioning"],"dependencies":[{"issue_id":"home-ops-g84","depends_on_id":"home-ops-4kl","type":"blocks","created_at":"2026-01-17T20:50:19.471254Z","created_by":"Dan Webb"}]}
{"id":"home-ops-gg9","title":"Zitadel TUI: Core API Client","description":"Extract and consolidate all Zitadel API logic into a single reusable client class with JWT auth, token management, and API request handling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T21:21:19.389719Z","updated_at":"2026-01-22T10:28:36.941544Z","closed_at":"2026-01-22T10:28:36.941544Z","close_reason":"Core API client implemented with JWT auth, token management, and all API operations","labels":["ruby","zitadel-tui"],"dependencies":[{"issue_id":"home-ops-gg9","depends_on_id":"home-ops-96m","type":"blocks","created_at":"2026-01-21T21:21:19.392538Z","created_by":"daemon"}]}
{"id":"home-ops-gvf","title":"Cilium network policy enforcement","description":"Create default deny policies, define allowed ingress/egress rules per namespace, validate DNS egress, test inter-namespace communication, confirm monitoring namespace access, validate Gateway namespace policies, test enforcement.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:18.863772Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:18.863772Z","labels":["network","security"]}
{"id":"home-ops-h17","title":"Create initial admin user and configure RBAC","description":"Set up initial admin user for Grafana On-Call and configure role-based access control for team members.","design":"OIDC Setup (already complete):\\n- Provider: Zitadel\\n- Existing OIDC configuration in HelmRelease\\n\\nTask: Map dan.m.webb@gmail.com to Admin\\n- Update On-Call user mapping to assign admin role\\n- Verify OIDC claim mapping includes email\\n- Test login with dan.m.webb@gmail.com\\n- Confirm admin permissions granted","acceptance_criteria":"- OIDC integration already working\n- User dan.m.webb@gmail.com mapped to admin role\n- Admin user can login to On-Call web UI with OIDC\n- RBAC roles defined: Admin, Editor, Viewer\n- SSO verified: OIDC provider correctly authenticates user\n- User management page shows dan.m.webb@gmail.com with Admin role\n- Role assignment persists across pod restarts","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T14:33:17.127623Z","updated_at":"2026-01-29T15:01:08.544368Z","labels":["monitoring","security"],"dependencies":[{"issue_id":"home-ops-h17","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:17.130391Z","created_by":"daemon"}]}
{"id":"home-ops-h37","title":"Configure On-Call integration with Grafana dashboards","description":"Link Grafana dashboards to On-Call for quick context during incident response.","design":"Integration points:\\n- Grafana datasource: On-Call API\\n- Dashboard: On-Call Status (incidents, schedules)\\n- Alert notification: Include On-Call incident URL\\n- Alert rules: Link to relevant monitoring dashboard","acceptance_criteria":"- On-Call data source added to Grafana\n- On-Call dashboard created showing: active incidents, schedules, escalations\n- Alert rule links point to relevant Grafana dashboards\n- Incident details include dashboard links for context\n- Dashboard panels show current on-call person\n- Grafana alert notification includes On-Call incident link\n- Cross-linking verified (Grafana -\u003e On-Call -\u003e Grafana)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:33:29.920982Z","updated_at":"2026-01-29T14:33:29.920982Z","labels":["monitoring"],"dependencies":[{"issue_id":"home-ops-h37","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:29.922321Z","created_by":"daemon"}]}
{"id":"home-ops-h70","title":"Migrate storage class from nfs-csi to nfs-csi-ssd","description":"Update all PVCs and storage configurations to use nfs-csi-ssd instead of nfs-csi for improved performance. This includes workloads like Loki, Prometheus, VictoriaMetrics, and other stateful applications.","acceptance_criteria":"- All PVCs using nfs-csi are identified and catalogued\n- Migration plan created with zero-downtime approach\n- Each workload migrated and verified with data integrity checks\n- Monitoring confirms no performance regressions\n- nfs-csi storage class can be safely removed","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:25:31.529592Z","updated_at":"2026-01-29T14:25:31.529592Z","dependencies":[{"issue_id":"home-ops-h70","depends_on_id":"home-ops-8nm","type":"blocks","created_at":"2026-01-29T14:25:31.531322Z","created_by":"daemon"}]}
{"id":"home-ops-hph","title":"Epic: Kubernetes Platform","description":"Parent epic for Kubernetes platform tasks including monitoring, validation, auth, and system components.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:46:57.470553Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:46:57.470553Z","labels":["epic"]}
{"id":"home-ops-hvt","title":"Alertmanager notification routing","description":"Verify Alertmanager configuration, check notification receivers, test Discord/Slack webhook integration, validate alert routing rules, confirm silencing functionality.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:45.781441Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:47:45.781441Z","labels":["kubernetes","monitoring"],"dependencies":[{"issue_id":"home-ops-hvt","depends_on_id":"home-ops-8yu","type":"blocks","created_at":"2026-01-17T20:50:28.71351Z","created_by":"Dan Webb"}]}
{"id":"home-ops-ih7","title":"Configure PostgreSQL database for On-Call","description":"Set up PostgreSQL database backend for Grafana On-Call. This includes creating a dedicated database, user, and configuring connection parameters.","design":"Use existing PostgreSQL instance in database namespace:\\n- User: oncall (password stored in sealed secret)\\n- Database: grafana_oncall\\n- Connection: postgresql://oncall:PASSWORD@postgres.database.svc.cluster.local:5432/grafana_oncall\\n- Backup: included in pg_dump schedule","acceptance_criteria":"- PostgreSQL user 'oncall' created with strong password\n- Database 'grafana_oncall' created and owned by oncall user\n- Connection string configured in On-Call HelmRelease\n- Database migrations run successfully on startup\n- Connection test passes (verified via logs)\n- Backup included in existing PostgreSQL backup strategy","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T14:33:14.978143Z","updated_at":"2026-01-29T14:33:14.978143Z","labels":["database","monitoring"],"dependencies":[{"issue_id":"home-ops-ih7","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:14.980816Z","created_by":"daemon"}]}
{"id":"home-ops-ird","title":"Migrate paperless-data to SSD (high risk)","description":"Migrate paperless-data PVC from nfs-csi-unas to nfs-csi-ssd using verified VolSync backup. High risk - contains critical documents.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-23T21:12:55.461018Z","updated_at":"2026-01-23T21:12:55.461018Z","dependencies":[{"issue_id":"home-ops-ird","depends_on_id":"home-ops-q3o","type":"blocks","created_at":"2026-01-23T21:12:55.462441Z","created_by":"daemon"},{"issue_id":"home-ops-ird","depends_on_id":"home-ops-5c0","type":"blocks","created_at":"2026-01-23T21:12:55.463719Z","created_by":"daemon"}]}
{"id":"home-ops-iwr","title":"Migrate whisper-models to SSD (low risk)","description":"Migrate whisper-models PVC from nfs-csi-unas to nfs-csi-ssd. This is low risk as ML models can be re-downloaded if needed.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-23T21:12:54.350832Z","updated_at":"2026-01-23T21:12:54.350832Z","dependencies":[{"issue_id":"home-ops-iwr","depends_on_id":"home-ops-q3o","type":"blocks","created_at":"2026-01-23T21:12:54.351935Z","created_by":"daemon"}]}
{"id":"home-ops-j7l","title":"Rock Pi node configuration","description":"Verify Rock Pi specific cloud-init, check network interface (enP4p65s0), validate ARM64 k3s binary, test boot from SD/eMMC, confirm hardware acceleration, verify power management, check thermal monitoring, validate storage, test network performance.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:39.230758Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:39.230758Z","labels":["hardware","provisioning"]}
{"id":"home-ops-jc4","title":"Epic: Node Provisioning","description":"Parent epic for node provisioning tasks including cloud-init, Ansible, hardware config, VM validation, and InSpec compliance.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:47:00.109845Z","created_by":"Dan Webb","updated_at":"2026-01-29T14:22:55.343061Z","closed_at":"2026-01-29T14:22:55.343061Z","close_reason":"Not starting this work","labels":["epic"]}
{"id":"home-ops-jgj","title":"Zitadel TUI: OIDC App Management","description":"Implement interactive OIDC app management: list, create, delete, regenerate secrets with tty-prompt selection","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T21:21:21.035765Z","updated_at":"2026-01-22T10:28:38.047138Z","closed_at":"2026-01-22T10:28:38.047138Z","close_reason":"OIDC app management implemented with interactive menus, predefined templates, and 1Password integration","labels":["ruby","zitadel-tui"],"dependencies":[{"issue_id":"home-ops-jgj","depends_on_id":"home-ops-96m","type":"blocks","created_at":"2026-01-21T21:21:21.037091Z","created_by":"daemon"}]}
{"id":"home-ops-k35","title":"Fix VolSync ReplicationSource for paperless-data","description":"Update the ReplicationSource to point to the correct PVC (paperless-data) instead of paperless-localdata. Ensure the repository is correctly configured to store backups on SSD storage.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-23T21:12:48.855879Z","updated_at":"2026-01-23T23:06:11.931197Z","dependencies":[{"issue_id":"home-ops-k35","depends_on_id":"home-ops-pcx","type":"blocks","created_at":"2026-01-23T21:12:48.857782Z","created_by":"daemon"}]}
{"id":"home-ops-lfh","title":"Implement backup and disaster recovery for On-Call","description":"Set up backup strategy for On-Call data and test recovery procedures.","design":"Backup strategy:\\n- Leverage existing PostgreSQL backup (pg_dump daily)\\n- Retention: 30 days daily, 90 days weekly\\n- Test restore monthly to test environment\\n- Document restore procedure in runbook","acceptance_criteria":"- PostgreSQL backups included in existing backup schedule\n- Daily backups retained for 30 days\n- Weekly backups retained for 90 days\n- Backup tested: restore to test environment successful\n- RTO (Recovery Time Objective): \u003c 1 hour\n- RPO (Recovery Point Objective): \u003c 1 day\n- Backup documentation created\n- Restore procedure tested and documented","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:33:31.865447Z","updated_at":"2026-01-29T14:33:31.865447Z","labels":["disaster-recovery","monitoring"],"dependencies":[{"issue_id":"home-ops-lfh","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:31.867967Z","created_by":"daemon"}]}
{"id":"home-ops-msr","title":"Create allowlist of approved users in Zitadel","description":"Maintain a list of approved users who can access the system.\n\n## Options for Managing Approved Users\n\n### Option 1: Zitadel Metadata\nStore user roles/approval status in Zitadel user metadata:\n- Add metadata key `approved: true` to allowed users\n- Action script checks metadata before allowing login\n\n### Option 2: Hardcoded Email List in Action\nMaintain list directly in the Zitadel Action script (simpler but requires Action update for changes)\n\n### Option 3: External Config\nStore approved users in a ConfigMap/Secret and have Action fetch it (more complex)\n\n## Recommended Approach\nStart with hardcoded email list in Action, migrate to metadata if list grows.\n\n## User Categories\n1. **Admins** - Full admin access (you + trusted family)\n2. **Users** - Regular access (family members)\n3. **Blocked** - Explicitly denied (catch-all for unapproved)\n\n## Acceptance Criteria\n- [ ] Approved user list defined\n- [ ] Unapproved users cannot access protected apps\n- [ ] Easy to add/remove users from list","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:13:47.838215Z","updated_at":"2026-01-21T11:28:03.864393Z","closed_at":"2026-01-21T11:28:03.864393Z","close_reason":"Completed: Approved users allowlist created at kubernetes/apps/authentication/zitadel/approved-users.yaml and implemented in Zitadel Action","labels":["security","zitadel"],"dependencies":[{"issue_id":"home-ops-msr","depends_on_id":"home-ops-yyj","type":"blocks","created_at":"2026-01-20T23:13:47.841565Z","created_by":"daemon"}]}
{"id":"home-ops-myi","title":"Secure Mealie and Zitadel for Internet Exposure","description":"Comprehensive security hardening for Mealie and Zitadel to safely expose them to the internet. Includes access control, role management, and custom claims configuration.\n\n## Goals\n- Restrict account signup to approved users only\n- Implement admin vs regular user roles\n- Configure Zitadel Actions to inject group claims (since Google OAuth doesn't provide them)\n- Ensure both services are hardened for public internet access\n\n## Context\n- Using Google OAuth as primary IdP\n- Google doesn't provide group claims\n- Need to \"fudge\" groups via Zitadel Actions\n- Mealie uses OIDC groups_claim for role assignment","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-20T23:12:48.567107Z","updated_at":"2026-01-21T11:27:42.340291Z","closed_at":"2026-01-21T11:27:42.340291Z","close_reason":"Epic complete: Mealie OIDC working with Zitadel, groups claim via Action, admin/user roles working, SMTP configured, MFA available, security hardening done","labels":["mealie","oidc","security","zitadel"]}
{"id":"home-ops-pcx","title":"Setup and verify VolSync backups for paperless-data","description":"Fix and verify VolSync backup for paperless-data PVC before migration. Current ReplicationSource is pointing to wrong PVC (paperless-localdata instead of paperless-data) and needs to be corrected.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-23T21:12:47.828768Z","updated_at":"2026-01-23T23:01:43.621508Z","dependencies":[{"issue_id":"home-ops-pcx","depends_on_id":"home-ops-w1k","type":"blocks","created_at":"2026-01-23T21:12:47.831432Z","created_by":"daemon"}]}
{"id":"home-ops-pum","title":"Migrate paperless-data PVC to nfs-csi-ssd","description":"Migrate paperless-data PVC from nfs-csi-unas to nfs-csi-ssd. This PVC stores document data (100Gi, ReadWriteOnce).","acceptance_criteria":"- New PVC created with nfs-csi-ssd storage class\n- Document data migrated from nfs-csi-unas with integrity verification\n- Paperless application restarted and functioning normally\n- Old PVC can be safely deleted","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:28:39.874804Z","updated_at":"2026-01-29T14:28:39.874804Z","dependencies":[{"issue_id":"home-ops-pum","depends_on_id":"home-ops-h70","type":"blocks","created_at":"2026-01-29T14:28:39.876327Z","created_by":"daemon"}]}
{"id":"home-ops-q3o","title":"Verify VolSync backup execution","description":"Monitor and verify that the corrected VolSync backup runs successfully and creates a restorable backup of paperless-data PVC.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T21:12:51.543847Z","updated_at":"2026-01-23T21:12:51.543847Z","dependencies":[{"issue_id":"home-ops-q3o","depends_on_id":"home-ops-k35","type":"blocks","created_at":"2026-01-23T21:12:51.545135Z","created_by":"daemon"}]}
{"id":"home-ops-qyh","title":"Configure escalation policies and notification channels","description":"Set up escalation policies for incident response and configure notification channels (email, SMS, Slack).","design":"Escalation with DND:\\n\\nWeekday (Mon-Fri):\\n- 08:00-18:00 UTC: Full notifications (email + Slack)\\n- 18:00-08:00 UTC: Critical only (email + SMS + phone)\\n\\nWeekend (Fri 18:00 - Mon 08:00 UTC):\\n- Critical only: Pod down, cluster down, data loss (email + SMS + phone)\\n- Non-critical: Suppressed (logged but not notified)\\n\\nCritical Definition:\\n- Severity=critical in alert labels\\n- Examples: KubeNodeNotReady, PersistentVolumeError, EtcdInsufficientMembers\\n\\nNotification Channels:\\n- Email: Always (respects DND)\\n- Slack: Always (respects DND)\\n- SMS: Critical only\\n- Phone: Critical only (if configured)","acceptance_criteria":"- Escalation policy created with DND-aware rules\n- DND Schedule 1: Weekday evenings (18:00-08:00 UTC) - no notifications except critical\n- DND Schedule 2: Weekends (Fri 18:00 UTC - Mon 08:00 UTC) - critical only\n- Critical severity definition: Pod down, cluster down, data loss risk (severity=critical)\n- Non-critical alerts suppressed during DND windows\n- Email notifications configured (outside DND)\n- Slack notifications configured (outside DND)\n- SMS provider configured for critical alerts (if available)\n- DND schedules tested with synthetic alerts\n- Notification templates include severity and impact info\n- Override mechanism available for true emergencies","status":"in_progress","priority":2,"issue_type":"task","assignee":"cascade","created_at":"2026-01-29T14:33:24.926144Z","updated_at":"2026-01-29T15:03:00.238306Z","labels":["alerting","monitoring"],"dependencies":[{"issue_id":"home-ops-qyh","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:24.929029Z","created_by":"daemon"}]}
{"id":"home-ops-qyu","title":"Node Problem Detector deployment","description":"Verify NPD pods on all nodes, check problem detection rules, validate node condition reporting, test alert integration, confirm kernel log monitoring.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:22.302554Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:22.302554Z","labels":["kubernetes","system"]}
{"id":"home-ops-rp7","title":"Zitadel TUI: User Management","description":"Implement interactive user management: list, create, grant admin roles with tty-prompt selection","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T21:21:22.404076Z","updated_at":"2026-01-22T10:28:39.061987Z","closed_at":"2026-01-22T10:28:39.061987Z","close_reason":"User management implemented with create, list, admin creation, and role granting","labels":["ruby","zitadel-tui"],"dependencies":[{"issue_id":"home-ops-rp7","depends_on_id":"home-ops-96m","type":"blocks","created_at":"2026-01-21T21:21:22.406187Z","created_by":"daemon"}]}
{"id":"home-ops-stq","title":"Dragonfly as Redis alternative","description":"Verify Dragonfly deployment, check memory configuration, validate Redis protocol compatibility, test application connectivity, monitor performance metrics.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:15.133004Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:15.133004Z","labels":["database","kubernetes"]}
{"id":"home-ops-uko","title":"Kyverno policy engine deployment","description":"Verify Kyverno pods, check ClusterPolicy resources, validate policy enforcement mode, test violation handling, confirm policy reports, check admission webhook, validate background scanning, test exceptions, monitor metrics.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:12.523959Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:12.523959Z","labels":["policy","security"]}
{"id":"home-ops-usu","title":"1Password Connect and External Secrets integration","description":"Verify 1Password Connect server, check credentials secret, validate API connectivity, test secret retrieval, confirm secret sync, verify rotation workflow, check access logging, validate vault permissions, test failover, monitor health metrics.","status":"closed","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:10.639656Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:54:31.649326Z","closed_at":"2026-01-17T20:54:31.649326Z","close_reason":"1Password Connect and External Secrets running in external-secrets namespace","labels":["secrets","security"]}
{"id":"home-ops-uw0","title":"Integrate Alertmanager with On-Call","description":"Configure Alertmanager to send alerts to Grafana On-Call. This includes creating the integration, configuring alert routing, and testing alert delivery.","design":"Alertmanager configuration:\\n- Create 'oncall' receiver with webhook_configs\\n- Webhook URL: https://oncall.ironstone.casa/api/v1/integrations/grafana-alertmanager/notify/\\n- Route: group_by: [alertname, severity]\\n- Group wait: 10s, Group interval: 10s, Repeat interval: 4h","acceptance_criteria":"- On-Call integration created in Alertmanager config\n- Integration webhook URL obtained from On-Call\n- Alertmanager ConfigMap updated with webhook receiver\n- Test alert sent and received in On-Call\n- Alert appears in On-Call incidents list\n- Incident auto-resolves when alert clears\n- Alert routing rules configured (severity-based routing)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T14:33:19.827609Z","updated_at":"2026-01-29T14:33:19.827609Z","labels":["alerting","monitoring"],"dependencies":[{"issue_id":"home-ops-uw0","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:19.829592Z","created_by":"daemon"}]}
{"id":"home-ops-v3a","title":"QEMU VM validation loop","description":"Verify QEMU installed, check VM creation script, validate cloud-init ISO generation, test VM boot, confirm SSH access, verify k3s installation, check node joins cluster, validate cleanup script, test full provisioning cycle.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:49:34.226823Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:49:34.226823Z","labels":["provisioning","vm"]}
{"id":"home-ops-v78","title":"Deploy Grafana On-Call Helm Chart to cluster","description":"Deploy Grafana On-Call using Helm chart to the monitoring namespace. This includes creating the HelmRelease manifest, configuring storage, and ensuring the service is accessible.","design":"Create HelmRelease with:\\n- Image: grafana/oncall:latest\\n- Storage: 10Gi PVC for PostgreSQL\\n- Service: ClusterIP on port 8080\\n- HTTPRoute: oncall.ironstone.casa\\n- Resource limits: requests (500m CPU, 512Mi RAM), limits (1000m CPU, 1Gi RAM)","acceptance_criteria":"- HelmRelease manifest created in kubernetes/apps/monitoring/grafana-oncall/\n- Helm chart version pinned (latest stable)\n- PVC created for persistent storage (PostgreSQL data)\n- Service deployed and accessible via HTTPRoute\n- Pod running and healthy (1/1 Ready)\n- Logs show successful startup with no errors","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T14:33:12.706952Z","updated_at":"2026-01-29T14:33:12.706952Z","labels":["kubernetes","monitoring"],"dependencies":[{"issue_id":"home-ops-v78","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:12.709247Z","created_by":"daemon"}]}
{"id":"home-ops-w1k","title":"Migrate from spinning disks to SSD storage","description":"Migrate all PVCs from deprecated spinning disk storage classes (nfs-csi-unas, smb) to SSD storage classes (nfs-csi-ssd, smb-ssd) to deprecate the UNAS Pro spinning disks.\n\nCurrent PVCs using non-SSD storage:\n- whisper-models (20Gi, nfs-csi-unas) - Low risk (ML models can be re-downloaded)\n- frigate-media (100Gi, nfs-csi-unas) - High risk (video recordings)\n- paperless-data (100Gi, nfs-csi-unas) - High risk (documents)\n\nSSD storage has 6.38TB free space available for migration.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-23T21:12:46.648089Z","updated_at":"2026-01-23T21:12:46.648089Z"}
{"id":"home-ops-x81","title":"Flux-local for GitOps validation","description":"Run flux-local build on repository, check for Kustomization errors, validate HelmRelease rendering, test diff against live cluster, integrate into PR checks.","status":"open","priority":2,"issue_type":"task","owner":"dan.webb@damacus.io","created_at":"2026-01-17T20:48:41.635187Z","created_by":"Dan Webb","updated_at":"2026-01-17T20:48:41.635187Z","labels":["kubernetes","validation"]}
{"id":"home-ops-xd1","title":"Configure Mealie to use Zitadel groups for role assignment","description":"Configure Mealie to read the groups claim from Zitadel and assign roles accordingly.\n\n## Current Configuration\nMealie is already configured with:\n- `OIDC_GROUPS_CLAIM: \"groups\"`\n\n## Mealie Role Mapping\nMealie supports these roles:\n- **admin** - Full access, can manage users and settings\n- **user** - Standard access, can create/edit recipes\n\n## Implementation\n1. Verify Mealie reads the `groups` claim correctly\n2. Map Zitadel groups to Mealie roles:\n   - `admin` group → Mealie admin role\n   - `user` group → Mealie user role\n\n## Testing\n1. Log in as admin user via Zitadel\n2. Verify admin privileges in Mealie\n3. Log in as regular user\n4. Verify limited privileges\n\n## Acceptance Criteria\n- [ ] Admin users have full Mealie admin access\n- [ ] Regular users have standard user access\n- [ ] Groups claim is being read correctly","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:13:37.412921Z","updated_at":"2026-01-21T11:28:13.265688Z","closed_at":"2026-01-21T11:28:13.265688Z","close_reason":"Completed: Mealie configured with OIDC_GROUPS_CLAIM, DEFAULT_GROUP, DEFAULT_HOUSEHOLD. Admin users get admin role, regular users get user role. Confirmed working.","labels":["mealie","oidc","security"],"dependencies":[{"issue_id":"home-ops-xd1","depends_on_id":"home-ops-6nw","type":"blocks","created_at":"2026-01-20T23:13:37.415179Z","created_by":"daemon"}]}
{"id":"home-ops-yrn","title":"Document On-Call operational procedures and runbooks","description":"Create comprehensive documentation for operating and troubleshooting Grafana On-Call.","design":"Documentation structure:\\n- docs/ON-CALL-SETUP.md: Deployment and configuration\\n- docs/ON-CALL-OPERATIONS.md: Day-to-day operations\\n- docs/ON-CALL-TROUBLESHOOTING.md: Common issues\\n- docs/ON-CALL-RUNBOOKS.md: Incident response procedures\\n- docs/ON-CALL-ONBOARDING.md: Team training guide","acceptance_criteria":"- README created in kubernetes/apps/monitoring/grafana-oncall/\nn- Operational guide: how to manage schedules, escalations, incidents\n- Troubleshooting guide: common issues and solutions\n- Runbooks for: Pod restart, Database recovery, Notification failures\n- Team onboarding guide: how to use On-Call as on-call engineer\n- Architecture diagram: On-Call integration with other systems\n- All docs in markdown format in docs/ directory\n- Docs reviewed and approved by team","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T14:33:39.42023Z","updated_at":"2026-01-29T14:33:39.42023Z","labels":["documentation","monitoring"],"dependencies":[{"issue_id":"home-ops-yrn","depends_on_id":"home-ops-cil","type":"blocks","created_at":"2026-01-29T14:33:39.422286Z","created_by":"daemon"}]}
{"id":"home-ops-yyj","title":"Configure Zitadel to restrict user registration","description":"Restrict who can create accounts in Zitadel.\n\n## Options\n1. **Disable public registration** - Only admins can create users\n2. **Domain allowlist** - Only allow specific email domains (e.g., @ironstone.casa, specific Gmail addresses)\n3. **Invitation-only** - Require admin invitation to join\n\n## Implementation\n- Navigate to Zitadel Console → Settings → Login Behavior\n- Disable \"Allow Register\" for public signup\n- Or configure domain restrictions under Organization Settings\n\n## Acceptance Criteria\n- [ ] Public registration is disabled or restricted\n- [ ] Only approved users can create accounts\n- [ ] Existing users can still log in via Google OAuth","notes":"Users created via API:\n- dan.m.webb@gmail.com (ID: 356492137971319809)\n- 28lauracummings@gmail.com (ID: 356492138038428673)\n- webbglor@googlemail.com (ID: 356492138088760321)\n- gtxthor37@gmail.com (ID: 356492138139091969)\n\nStill need to disable public registration in Zitadel Console.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:12:56.597402Z","updated_at":"2026-01-21T11:27:48.755789Z","closed_at":"2026-01-21T11:27:48.755789Z","close_reason":"Completed: Public registration disabled, approved users created via API, Google OAuth working for existing users","labels":["security","zitadel"],"dependencies":[{"issue_id":"home-ops-yyj","depends_on_id":"home-ops-myi","type":"blocks","created_at":"2026-01-20T23:12:56.601361Z","created_by":"daemon"}]}
