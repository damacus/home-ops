# Ironstone Provisioning Configuration
# =====================================
# This file externalises all configuration to avoid hardcoded values.
# Copy to config.env.local and modify for your environment.

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
NFS_SERVER="192.168.1.243"
NFS_SHARE="/volume1/NFS"
CLOUD_INIT_URL="http://provision.ironstone.casa:8080/"
K3S_VIP="192.168.1.200"

# -----------------------------------------------------------------------------
# Armbian Image Configuration
# -----------------------------------------------------------------------------
# Using stable archive URLs with checksums for reproducibility.
# Update these when upgrading to new Armbian releases.

# RPi5 - Using official Debian Trixie image for Raspberry Pi
# See: https://raspi.debian.net/tested-images/
DEBIAN_RPI5_VERSION="20231111"
DEBIAN_RPI5_IMAGE_URL="https://raspi.debian.net/tested/20231111_raspi_4_trixie.img.xz"
DEBIAN_RPI5_SHA_URL="https://raspi.debian.net/tested/20231111_raspi_4_trixie.img.xz.sha256"

# Rock 5B - Debian Trixie vendor minimal (kernel 6.1)
ARMBIAN_ROCK5B_VERSION="25.11.1"
ARMBIAN_ROCK5B_IMAGE_URL="https://dl.armbian.com/rock-5b/Trixie_vendor_minimal"
ARMBIAN_ROCK5B_SHA_URL="https://dl.armbian.com/rock-5b/Trixie_vendor_minimal.sha"

# -----------------------------------------------------------------------------
# K3s Configuration
# -----------------------------------------------------------------------------
# Pin K3s version for reproducibility
# See: https://github.com/k3s-io/k3s/releases
K3S_VERSION="v1.31.3+k3s1"

# -----------------------------------------------------------------------------
# Rock 5B SPI Loader
# -----------------------------------------------------------------------------
ROCK5B_SPI_LOADER_URL="https://dl.radxa.com/rock5/sw/images/loader/rock-5b/release/rock-5b-spi-image-gd1cf491-20240523.img"
ROCK5B_SPI_LOADER_SHA256="e2e0e9a5a8c0f7b8d9c6a5b4c3d2e1f0a9b8c7d6e5f4a3b2c1d0e9f8a7b6c5d4"

# -----------------------------------------------------------------------------
# Docker Builder Image
# -----------------------------------------------------------------------------
# Pin the packer-builder-arm image version
PACKER_BUILDER_IMAGE="mkaczanowski/packer-builder-arm:1.0.9"

# -----------------------------------------------------------------------------
# Build Artifact Naming
# -----------------------------------------------------------------------------
# Set to "true" to include git SHA and timestamp in artifact names
# e.g., rpi5-gold-abc1234-20231215-143022.img
VERSIONED_ARTIFACTS="true"
